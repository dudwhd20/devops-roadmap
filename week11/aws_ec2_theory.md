# AWS EC2 (Elastic Compute Cloud) 이론 정리

---

## 1. EC2란 무엇인가?

- **Elastic Compute Cloud**
- AWS에서 제공하는 **가상 서버(Virtual Server)** 서비스
- 필요할 때 생성하고, 필요 없을 때 종료할 수 있음 (Elastic)
- 실제 하드웨어 구매 없이 즉시 컴퓨팅 리소스 제공

---

## 2. EC2 핵심 구성 요소

| 구성요소                   | 설명                                                                                   |
| :------------------------- | :------------------------------------------------------------------------------------- |
| AMI (Amazon Machine Image) | 서버 OS + 기본 소프트웨어를 패키징한 템플릿<br>예: Amazon Linux, Ubuntu, Windows       |
| Instance Type              | 인스턴스 성능 스펙 (vCPU, 메모리, 네트워크 속도)<br>예: t2.micro, m5.large, c6g.medium |
| Storage (EBS)              | Elastic Block Store로 디스크 추가<br>루트 디스크 + 추가 볼륨 설정 가능                 |
| Key Pair                   | SSH 접속을 위한 공개키/비공개키 쌍 (\*.pem 파일)                                       |
| Security Group             | 가상 방화벽 역할 (포트 허용/차단)                                                      |
| Elastic IP                 | 고정 공인 IP 할당 (재시작 후에도 IP 유지)                                              |

---

## 3. EC2 인스턴스 동작 흐름

```mermaid
flowchart TD
    A[인스턴스 생성 요청] --> B[AMI 선택]
    B --> C[인스턴스 타입 선택]
    C --> D[스토리지 설정 (EBS)]
    D --> E[네트워크 설정 (VPC, Subnet)]
    E --> F[보안 그룹 설정]
    F --> G[키 페어 설정]
    G --> H[인스턴스 시작]
```

---

## 4. EC2 구매 옵션 종류

| 옵션                              | 설명                         | 특징                            |
| :-------------------------------- | :--------------------------- | :------------------------------ |
| 온디맨드 (On-Demand)              | 필요할 때 생성/종료          | 가장 비쌈, 유연함               |
| 예약 인스턴스 (Reserved Instance) | 1년 또는 3년 약정            | 최대 75% 할인, 장기간 사용      |
| 스팟 인스턴스 (Spot Instance)     | 경매 방식으로 남는 자원 구매 | 최대 90% 저렴, 중단 가능성 있음 |
| Savings Plan                      | 컴퓨팅 사용량 약정 할인      | 예약 인스턴스보다 유연          |

---

## 5. EC2 기본 아키텍처

- 하나의 **VPC** 안에 EC2 인스턴스를 배치
- 퍼블릭 서브넷에 배치하면 **Elastic IP**로 외부 통신 가능
- **Security Group**으로 인바운드/아웃바운드 트래픽 제어
- 필요시 **로드밸런서(ELB)** 와 연동하여 고가용성 구축

---

## 6. EC2 실전 고려 사항

| 고려 사항            | 설명                                      |
| :------------------- | :---------------------------------------- |
| 고가용성 (HA)        | Multi-AZ 배포로 장애 대비                 |
| 확장성 (Scalability) | Auto Scaling Group으로 인스턴스 자동 증감 |
| 비용 최적화          | 예약 인스턴스 + 스팟 인스턴스 혼용 전략   |
| 보안 강화            | 최소 권한 원칙, 보안 그룹 및 키 관리 철저 |

---

# ✨ 간단 요약

- EC2는 AWS 기본이자 핵심 서비스
- AMI, 인스턴스 타입, 키페어, 보안 그룹, EBS 이해 필수
- 온디맨드 → 예약/스팟 인스턴스 조합으로 비용 최적화 가능

---
