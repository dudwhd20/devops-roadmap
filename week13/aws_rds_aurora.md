# AWS Aurora 정리

## 🛍️ 개요

**Amazon Aurora**는 AWS에서 제공하는 **고성능 관계형 데이터베이스 서비스**로, MySQL 및 PostgreSQL과 호환되며, **상용 데이터베이스 수준의 성능과 가용성**을 제공하며도 **오픈소스 DB보다 더 be8고 안전적**입니다.

---

## 🌟 특징 요약

| 항목      | 설명                                        |
| ------- | ----------------------------------------- |
| 호환성     | MySQL, PostgreSQL 완전 호환                   |
| 성능      | 일반 MySQL 대비 최대 5번, PostgreSQL 대비 3번 빠른 성능 |
| 고가용성    | 기본적으로 다중 AZ 구성 + 자동 장아조치 (failover)       |
| 자동 백업   | 지속적 백업 + 포인트 인 타임 복원 지원                   |
| 복제 지원   | 최대 15개의 리드 리플리카 지원                        |
| 관리형     | 하드웨어, 패치, 클러스터 관리 자동화                     |
| 보안      | VPC, KMS 기반 암호화, IAM 인증                   |
| 서버리스 옵션 | Aurora Serverless (자동 스케일링, 비용 최적화)       |

---

## 🏧 아키텍처 구성

Aurora는 **스토리지와 컨텐츠를 분리**한 구조입니다.

* **Storage Layer**

  * SSD 기반의 분산 스토리지 (최대 128TB)
  * 6개의 복제보 (3 AZ에 각각 2개씩)
  * 자동으로 데이터 복구, 증분 백업 처리

* **Compute Layer**

  * Writer 인스턴스 (1개)
  * Reader 인스턴스 (최대 15개)
  * Failover 시 Reader가 Writer 역할 승격 가능

---

## ⚙️ 원영 모드

### 1. Aurora Standard

* EC2 인스턴스 기반, **지속적으로 실행**
* MySQL / PostgreSQL 엔진 선택 가능
* 예: 특정 특성의 트래픽 예측 가능한 웹 애플리케이션

### 2. Aurora Serverless v2

* **Auto-scaling** 지원: 수 초 단위로 동적으로 인스턴스 용량 조정
* 사용량 기반 가금 (DB가 idle 상태면 비용 최소화)
* 예: 관련 불가능한 보호의 API 서버, 이벤트성 트래픽

---

## 🔐 보안 기능

* VPC 내에서 실행
* KMS 기반 **암호화 저장소**
* **TLS** 연결
* IAM 인증 및 정책 연동 가능

---

## 🛠️ 관리 기능

* **자동 장아 조치 (Failover)**: Writer 인스턴스 장아 발생 시 Reader가 승격
* **모니터링**: CloudWatch, Enhanced Monitoring, Performance Insights
* **스냨샷**: 수단 스냨샷으로 장기 백업 가능
* **Point-in-time Restore**: 특정 시간 기준으로 복구 가능

---

## 💰 요금 구조

* **Aurora Standard**

  * 인스턴스 시간 + 스토리지 사용량 + I/O 요청 수

* **Aurora Serverless v2**

  * ACU(Aurora Capacity Unit) 시간당 가금 + 스토리지 사용량

> 참고: Aurora는 일반 RDS보다 더 비살 수 있지만, 고성능 + 복제 + 고가용성을 고려하면 효율적

---

## ✅ 사용 사례

* 고가용성이 중요한 **전자상가리 사이트**
* 대량 트래트션 처리와 빠른 응답이 필요한 **금융 시스템**
* 이벤트 기반 또는 시간대변 부하 차이가 큰 **모바일 백에드**

---

## 🧪 Aurora vs RDS vs EC2 직접 설치

| 항목      | EC2 직접설치    | RDS (MySQL 등) | Aurora            |
| ------- | ----------- | ------------- | ----------------- |
| 관리 편의성  | ❌ 직접 설치/관리  | ✅ 관리형         | ✅ 완전 관리형          |
| 성능      | 일반적         | 기본            | 최고                |
| 고가용성 구성 | 직접 구성       | 옵션 설정         | 기본 내장             |
| 자동 스케일링 | ❌ 수동 확장     | ❌ 제한적         | ✅ Serverless 지원   |
| 가격      | 저렴하지만 관리 필요 | 중간            | 다소 비살 (성능 대비 효율적) |

---

## 📜 요약

> **Aurora는 다음과 같은 조건에 적합합니다:**
>
> * **MySQL/PostgreSQL의 호환성이 필요하지만 성능도 중요한 경우**
> * **고가용성, 자동 장아 복구가 필수인 프로드터션 환경**
> * **서버리스 아키텍처가 필요한 경우**

